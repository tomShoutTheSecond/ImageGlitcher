{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tom\\\\Documents\\\\Repos\\\\ImageGlitcher\\\\image-glitcher\\\\src\\\\ImageLoader.tsx\";\nimport React from 'react';\nimport { State } from './App';\nimport { Colors } from './Colors';\nimport { Styles } from './Styles';\nexport class ImageLoader extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      previewUrl: \"\"\n    };\n  }\n\n  render() {\n    let containerStyle = {\n      margin: \"16px\",\n      padding: \"16px\",\n      background: Colors.background,\n      borderWidth: 1,\n      borderStyle: \"solid\",\n      borderColor: Colors.border,\n      display: \"inline-block\"\n    };\n    let innerContainerStyle = {\n      paddingBottom: \"16px\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: Styles.h1Style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, \"Load Image\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, \".bmp files only\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: innerContainerStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: \"fileInput\",\n      type: \"file\",\n      id: \"files\",\n      name: \"file\",\n      onChange: () => this.loadImage(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.previewUrl,\n      style: Styles.imageStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  loadImage() {\n    let fileInput = this.refs.fileInput;\n    let imageFile = fileInput.files[0];\n    let fileReader = new FileReader();\n    fileReader.readAsArrayBuffer(imageFile);\n\n    fileReader.onloadend = () => {\n      //get data from file\n      let result = fileReader.result;\n      let rawData = new Uint8Array(result);\n      State.setImageData(rawData); //put preview in component\n\n      fileReader.readAsDataURL(imageFile);\n\n      fileReader.onloadend = () => {\n        this.setState({\n          previewUrl: fileReader.result\n        });\n      };\n    };\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Tom/Documents/Repos/ImageGlitcher/image-glitcher/src/ImageLoader.tsx"],"names":["React","State","Colors","Styles","ImageLoader","Component","state","previewUrl","render","containerStyle","margin","padding","background","borderWidth","borderStyle","borderColor","border","display","innerContainerStyle","paddingBottom","h1Style","loadImage","imageStyle","fileInput","refs","imageFile","files","fileReader","FileReader","readAsArrayBuffer","onloadend","result","rawData","Uint8Array","setImageData","readAsDataURL","setState"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,OAAtB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,MAAT,QAAuB,UAAvB;AAEA,OAAO,MAAMC,WAAN,SAA0BJ,KAAK,CAACK,SAAhC,CACP;AAAA;AAAA;AAAA,SACIC,KADJ,GACY;AAAEC,MAAAA,UAAU,EAAE;AAAd,KADZ;AAAA;;AAGIC,EAAAA,MAAM,GACN;AACI,QAAIC,cAAoC,GACxC;AACIC,MAAAA,MAAM,EAAE,MADZ;AAEIC,MAAAA,OAAO,EAAE,MAFb;AAGIC,MAAAA,UAAU,EAAEV,MAAM,CAACU,UAHvB;AAIIC,MAAAA,WAAW,EAAE,CAJjB;AAKIC,MAAAA,WAAW,EAAE,OALjB;AAMIC,MAAAA,WAAW,EAAEb,MAAM,CAACc,MANxB;AAOIC,MAAAA,OAAO,EAAE;AAPb,KADA;AAWA,QAAIC,mBAAyC,GAC7C;AACIC,MAAAA,aAAa,EAAE;AADnB,KADA;AAKA,wBACI;AAAK,MAAA,KAAK,EAAEV,cAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,KAAK,EAAEN,MAAM,CAACiB,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFJ,eAGI;AAAK,MAAA,KAAK,EAAEF,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,GAAG,EAAC,WAAX;AAAuB,MAAA,IAAI,EAAC,MAA5B;AAAmC,MAAA,EAAE,EAAC,OAAtC;AAA8C,MAAA,IAAI,EAAC,MAAnD;AAA0D,MAAA,QAAQ,EAAE,MAAM,KAAKG,SAAL,EAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAHJ,eAMI;AAAK,MAAA,GAAG,EAAE,KAAKf,KAAL,CAAWC,UAArB;AAAiC,MAAA,KAAK,EAAEJ,MAAM,CAACmB,UAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CADJ;AAUH;;AAEDD,EAAAA,SAAS,GACT;AACI,QAAIE,SAAS,GAAG,KAAKC,IAAL,CAAUD,SAA1B;AACA,QAAIE,SAAS,GAAGF,SAAS,CAACG,KAAV,CAAiB,CAAjB,CAAhB;AAEA,QAAIC,UAAU,GAAG,IAAIC,UAAJ,EAAjB;AACAD,IAAAA,UAAU,CAACE,iBAAX,CAA6BJ,SAA7B;;AAEAE,IAAAA,UAAU,CAACG,SAAX,GAAuB,MACvB;AACI;AACA,UAAIC,MAAM,GAAGJ,UAAU,CAACI,MAAxB;AACA,UAAIC,OAAO,GAAG,IAAIC,UAAJ,CAAeF,MAAf,CAAd;AACA9B,MAAAA,KAAK,CAACiC,YAAN,CAAmBF,OAAnB,EAJJ,CAMI;;AACAL,MAAAA,UAAU,CAACQ,aAAX,CAAyBV,SAAzB;;AAEAE,MAAAA,UAAU,CAACG,SAAX,GAAuB,MACvB;AACI,aAAKM,QAAL,CAAc;AAAC7B,UAAAA,UAAU,EAAEoB,UAAU,CAACI;AAAxB,SAAd;AACH,OAHD;AAIH,KAdD;AAeH;;AAxDL","sourcesContent":["import React from 'react';\nimport { State } from './App';\nimport { Colors } from './Colors';\nimport { Styles } from './Styles';\n\nexport class ImageLoader extends React.Component\n{\n    state = { previewUrl: \"\" };\n\n    render()\n    {\n        let containerStyle : React.CSSProperties = \n        {\n            margin: \"16px\",\n            padding: \"16px\",\n            background: Colors.background,\n            borderWidth: 1,\n            borderStyle: \"solid\",\n            borderColor: Colors.border,\n            display: \"inline-block\"\n        };\n\n        let innerContainerStyle : React.CSSProperties = \n        {\n            paddingBottom: \"16px\"\n        };\n\n        return (\n            <div style={containerStyle}>\n                <h1 style={Styles.h1Style}>Load Image</h1>\n                <p>.bmp files only</p>\n                <div style={innerContainerStyle}>\n                    <input ref=\"fileInput\" type=\"file\" id=\"files\" name=\"file\" onChange={() => this.loadImage()}/>\n                </div>\n                <img src={this.state.previewUrl} style={Styles.imageStyle}/>\n            </div>\n        );\n    }\n\n    loadImage()\n    {\n        let fileInput = this.refs.fileInput as HTMLInputElement;\n        let imageFile = fileInput.files![0];\n        \n        let fileReader = new FileReader();\n        fileReader.readAsArrayBuffer(imageFile);\n\n        fileReader.onloadend = () =>\n        {\n            //get data from file\n            let result = fileReader.result as ArrayBuffer;\n            let rawData = new Uint8Array(result);\n            State.setImageData(rawData);\n\n            //put preview in component\n            fileReader.readAsDataURL(imageFile);\n\n            fileReader.onloadend = () =>\n            {\n                this.setState({previewUrl: fileReader.result});\n            }\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}